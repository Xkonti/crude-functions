# This compose file is for demonstration only, do not use in prod.
services:
  app:
    image: xkonti/crude-functions:latest
    ports:
      - 8000:8000
    environment:
      - MANAGEMENT_API_KEY=examplekey
      # Log level: debug, info, warn, error, none (default: info)
      - LOG_LEVEL=info
      # Metrics aggregation interval in seconds (default: 60)
      - METRICS_AGGREGATION_INTERVAL_SECONDS=60
      # Number of days to retain daily metrics (default: 90)
      - METRICS_RETENTION_DAYS=90
    volumes:
      # Mount the data directory for SQLite database
      - ./data:/app/data
      # Mount the code directory for function handlers
      - ./code:/app/code
    restart: unless-stopped
